const express = require('express');
const routeLabel = require('route-label');
const router = express.Router();
const namedRouter = routeLabel(router);
const multer = require('multer');

const req_param = multer();
const orderController = require('webservice/frontend/order.controller');


/**
 * @api {get} /frontend/order/getaccesstoken Get Access Token
 * @apiVersion 1.0.0
 * @apiGroup Order
 * @apiSuccessExample {json} Success
 * {
    "status":200,
    "data":"eyJicmFpbnRyZWUiOnsiYXV0aG9yaXphdGlvbkZpbmdlcnByaW50IjoiYTdhYjRiOTU1MDRhNGViZTkyOTljYjA0ZTFlMDdkMDZmYzU2MjVlNmRjYjhkZDU0MDcyYTBlN2UxMTY0NmNmYXxtZXJjaGFudF9pZD1yd3dua3FnMnhnNTZobTJuJnB1YmxpY19rZXk9NjNrdm4zN3Z0MjlxYjRkZiZjcmVhdGVkX2F0PTIwMjEtMDYtMDJUMTQ6NDM6MDMuMDIxWiIsInZlcnNpb24iOiIzLXBheXBhbCJ9LCJwYXlwYWwiOnsiaWRUb2tlbiI6ImV5SnJhV1FpT2lJNVpqWmxOalV5T0RGallXWmhORFU1WkRReU9EWmhPRE5pWVdZMVl6aGtPRFUwWVdNNE5XRmtJaXdpZEhsd0lqb2lTbGRVSWl3aVlXeG5Jam9pVWxNeU5UWWlmUS5leUpwYzNNaU9pSm9kSFJ3Y3pvdkwyRndhUzV6WVc1a1ltOTRMbkJoZVhCaGJDNWpiMjBpTENKaFkzSWlPbHNpWTJ4cFpXNTBJbDBzSW1GMVpDSTZJa0ZZZEZsSVp6QkVlRXRqVnprd1dVWmZNbkExVjBwdFluUjBja05sUmxwVlkwMTJRVVY2VlZCalpXSlZXbEI2VjFwTWJ6UmZVMU5uYTBoclZVWjJVMDFaV0U1NlVtTlBVRVpOV0ZKdlIwNVNJaXdpY205c1pTSTZJazFGVWtOSVFVNVVJaXdpWVhWMGFGOTBhVzFsSWpveE5qSXlOalEwT1RnekxDSmhlaUk2SW5OaUxuTnNZeUlzSW5OamIzQmxjeUk2V3lKQ2NtRnBiblJ5WldVNlZtRjFiSFFpWFN3aVpYaHdJam94TmpJeU5qUTFPRGcwTENKelpYTnphVzl1WDJsdVpHVjRJam9pUzBsS1VITkVaVVZ6Tm1KQ2VXZE1SbHBWVFhOSllXRTJSMmxESWl3aWFXRjBJam94TmpJeU5qUTBPVGcwTENKcWRHa2lPaUpWTWtGQlRFTjZhMUJwZG14bk16a3lOMTkwTVZVeVRHdGtOamN6Vkc4MlIyMXNUV2hXTmtsUU1GQmlXamcxTkhWb2VrTlBSbmxTVW10S1ZURlVjMGRXV1VvM2EySlNlVGRTWlZablZqWTRXRkEzZG5Ca1VtTlBWalJIUzA5ZlkycHNWVkZ3ZFU0dGJqRlNNa3ROVmtRNVRHOVNOMFJRVUdOM09FWnBkMGhwVVNJc0ltTnNhV1Z1ZEY5cFpDSTZJa0ZZZEZsSVp6QkVlRXRqVnprd1dVWmZNbkExVjBwdFluUjBja05sUmxwVlkwMTJRVVY2VlZCalpXSlZXbEI2VjFwTWJ6UmZVMU5uYTBoclZVWjJVMDFaV0U1NlVtTlBVRVpOV0ZKdlIwNVNJbjAuUERLN3Y3Q3lHOF9KQ0tVd1o3Qk95d0V1LWNLbEhJcElYQ0lvUmpmMU5RNnJIWURIb2hiQ0JfV1RMMUl2REtEdjVJQm5uLVB4QkVCM2dBR2JfQlJVdXQzY3dOcXFVT3c3UTQtTWlyNE5mcUctT0o1ZW1fdWY4Vks5ejhlWS1uSXNGZGJNQ2VoU1Y2aXZGWnJ0akM0QWFjYkFFcVRvRXNhMmNRbW9tVnZseWc1RHJzUDY5TzN2cXhJOUh4UWxCQ1RRcmVHcWZMazJ6X0hPMDB3UTAweVRjQ3c5cVlsdlR0SGVwendJcVFDSEFNdnBZVVhubWloZ0VoTnN1bUVFUHdDQ3lsRjVBT1o5alVrVnZZVm5uVzQ2ZmlHQlhEbk13NDIwZXlDRDFBR1haVGpPdzItNEFyMjdGRklzZF9nMXc5ZElpeExxS1A1U1lBdE5GZmlzNHN4T0JBIiwiYWNjZXNzVG9rZW4iOiJBMjFBQUlUX2F3Ym5nY2pVMnJhcHRrTlRWeVN1SUJ3clRvZ3V5SkdHZWRLQmdFYl95Ujh3d2ptYWgwWWRETFFVbDBraFprdXc3WjY1OWRnUEk0VjExVXhoTjliV3p2bjF3In19",
    "message":"Access Token fetched Successfully"
}
*/
namedRouter.get("forntend.order.getaccesstoken", '/order/getaccesstoken', orderController.getAccessToken);

/**
 * @api {post} /frontend/order/placeorder Place Order
 * @apiVersion 1.0.0
 * @apiGroup Order
 * @apiSuccessExample {json} Success
 * {
    "status":200,
    "data":"eyJicmFpbnRyZWUiOnsiYXV0aG9yaXphdGlvbkZpbmdlcnByaW50IjoiYTdhYjRiOTU1MDRhNGViZTkyOTljYjA0ZTFlMDdkMDZmYzU2MjVlNmRjYjhkZDU0MDcyYTBlN2UxMTY0NmNmYXxtZXJjaGFudF9pZD1yd3dua3FnMnhnNTZobTJuJnB1YmxpY19rZXk9NjNrdm4zN3Z0MjlxYjRkZiZjcmVhdGVkX2F0PTIwMjEtMDYtMDJUMTQ6NDM6MDMuMDIxWiIsInZlcnNpb24iOiIzLXBheXBhbCJ9LCJwYXlwYWwiOnsiaWRUb2tlbiI6ImV5SnJhV1FpT2lJNVpqWmxOalV5T0RGallXWmhORFU1WkRReU9EWmhPRE5pWVdZMVl6aGtPRFUwWVdNNE5XRmtJaXdpZEhsd0lqb2lTbGRVSWl3aVlXeG5Jam9pVWxNeU5UWWlmUS5leUpwYzNNaU9pSm9kSFJ3Y3pvdkwyRndhUzV6WVc1a1ltOTRMbkJoZVhCaGJDNWpiMjBpTENKaFkzSWlPbHNpWTJ4cFpXNTBJbDBzSW1GMVpDSTZJa0ZZZEZsSVp6QkVlRXRqVnprd1dVWmZNbkExVjBwdFluUjBja05sUmxwVlkwMTJRVVY2VlZCalpXSlZXbEI2VjFwTWJ6UmZVMU5uYTBoclZVWjJVMDFaV0U1NlVtTlBVRVpOV0ZKdlIwNVNJaXdpY205c1pTSTZJazFGVWtOSVFVNVVJaXdpWVhWMGFGOTBhVzFsSWpveE5qSXlOalEwT1RnekxDSmhlaUk2SW5OaUxuTnNZeUlzSW5OamIzQmxjeUk2V3lKQ2NtRnBiblJ5WldVNlZtRjFiSFFpWFN3aVpYaHdJam94TmpJeU5qUTFPRGcwTENKelpYTnphVzl1WDJsdVpHVjRJam9pUzBsS1VITkVaVVZ6Tm1KQ2VXZE1SbHBWVFhOSllXRTJSMmxESWl3aWFXRjBJam94TmpJeU5qUTBPVGcwTENKcWRHa2lPaUpWTWtGQlRFTjZhMUJwZG14bk16a3lOMTkwTVZVeVRHdGtOamN6Vkc4MlIyMXNUV2hXTmtsUU1GQmlXamcxTkhWb2VrTlBSbmxTVW10S1ZURlVjMGRXV1VvM2EySlNlVGRTWlZablZqWTRXRkEzZG5Ca1VtTlBWalJIUzA5ZlkycHNWVkZ3ZFU0dGJqRlNNa3ROVmtRNVRHOVNOMFJRVUdOM09FWnBkMGhwVVNJc0ltTnNhV1Z1ZEY5cFpDSTZJa0ZZZEZsSVp6QkVlRXRqVnprd1dVWmZNbkExVjBwdFluUjBja05sUmxwVlkwMTJRVVY2VlZCalpXSlZXbEI2VjFwTWJ6UmZVMU5uYTBoclZVWjJVMDFaV0U1NlVtTlBVRVpOV0ZKdlIwNVNJbjAuUERLN3Y3Q3lHOF9KQ0tVd1o3Qk95d0V1LWNLbEhJcElYQ0lvUmpmMU5RNnJIWURIb2hiQ0JfV1RMMUl2REtEdjVJQm5uLVB4QkVCM2dBR2JfQlJVdXQzY3dOcXFVT3c3UTQtTWlyNE5mcUctT0o1ZW1fdWY4Vks5ejhlWS1uSXNGZGJNQ2VoU1Y2aXZGWnJ0akM0QWFjYkFFcVRvRXNhMmNRbW9tVnZseWc1RHJzUDY5TzN2cXhJOUh4UWxCQ1RRcmVHcWZMazJ6X0hPMDB3UTAweVRjQ3c5cVlsdlR0SGVwendJcVFDSEFNdnBZVVhubWloZ0VoTnN1bUVFUHdDQ3lsRjVBT1o5alVrVnZZVm5uVzQ2ZmlHQlhEbk13NDIwZXlDRDFBR1haVGpPdzItNEFyMjdGRklzZF9nMXc5ZElpeExxS1A1U1lBdE5GZmlzNHN4T0JBIiwiYWNjZXNzVG9rZW4iOiJBMjFBQUlUX2F3Ym5nY2pVMnJhcHRrTlRWeVN1SUJ3clRvZ3V5SkdHZWRLQmdFYl95Ujh3d2ptYWgwWWRETFFVbDBraFprdXc3WjY1OWRnUEk0VjExVXhoTjliV3p2bjF3In19",
    "message":"Access Token fetched Successfully"
}
*/
namedRouter.post("forntend.order.placeorder", '/order/placeorder', req_param.any(), orderController.placeOrder);


namedRouter.get("forntend.order.checkout", '/order/checkoutOrder/:orderId', orderController.checkoutOrder);

module.exports = router;